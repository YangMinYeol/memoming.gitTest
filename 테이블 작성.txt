-- 회원정보

CREATE TABLE MEMBER (
    MEM_NUM NUMBER PRIMARY KEY,
    MEM_ADMIN VARCHAR2(2) DEFAULT 'N',
    MEM_ID VARCHAR2(15) UNIQUE,
    MEM_PW VARCHAR2(15) NOT NULL,
    MEM_NAME VARCHAR2(15) NOT NULL,
    MEM_NICK VARCHAR2(15) UNIQUE,
    MEM_EMAIL VARCHAR2(40) NOT NULL,
    MEM_PHONE VARCHAR2(12) NOT NULL,
    MEM_ZIPCODE VARCHAR2(100) NOT NULL,
    MEM_ADDRESS1 VARCHAR2(100) NOT NULL,
    MEM_ADDRESS2 VARCHAR2(100) NOT NULL,
    MEM_JOINDATE DATE DEFAULT SYSDATE,
    MEM_EMAILCK VARCHAR2(2) NOT NULL,
    MEM_PHONECK VARCHAR2(2) NOT NULL,
    MEM_WARNING NUMBER DEFAULT 0,
    MEM_DEL_GB VARCHAR2(2) DEFAULT 'N');

COMMENT ON TABLE MEMBER IS '회원정보';
COMMENT ON COLUMN MEMBER.MEM_NUM IS '회원번호';
COMMENT ON COLUMN MEMBER.MEM_ADMIN IS '관리자';
COMMENT ON COLUMN MEMBER.MEM_ID IS '아이디';
COMMENT ON COLUMN MEMBER.MEM_PW IS '비밀번호';
COMMENT ON COLUMN MEMBER.MEM_NAME IS '이름';
COMMENT ON COLUMN MEMBER.MEM_NICK IS '닉네임';
COMMENT ON COLUMN MEMBER.MEM_EMAIL IS '이메일';
COMMENT ON COLUMN MEMBER.MEM_PHONE IS '연락처';
COMMENT ON COLUMN MEMBER.MEM_ZIPCODE IS '우편번호';
COMMENT ON COLUMN MEMBER.MEM_ADDRESS1 IS '주소1';
COMMENT ON COLUMN MEMBER.MEM_ADDRESS2 IS '주소2';
COMMENT ON COLUMN MEMBER.MEM_JOINDATE IS '가입일';
COMMENT ON COLUMN MEMBER.MEM_EMAILCK IS '이메일수신';
COMMENT ON COLUMN MEMBER.MEM_PHONECK IS 'SMS수신';
COMMENT ON COLUMN MEMBER.MEM_WARNING IS '이용 제재 내역';
COMMENT ON COLUMN MEMBER.MEM_DEL_GB IS '탈퇴여부';

-- 게시판

CREATE TABLE BOARD (
    BOARD_NUM NUMBER PRIMARY KEY,
    BOARD_TITLE VARCHAR2(100) NOT NULL,
    BOARD_CAT VARCHAR2(20) NOT NULL,
    BOARD_WRITER NUMBER NOT NULL,
    BOARD_NICK VARCHAR2(15) NOT NULL,
    BOARD_CONTENT VARCHAR2(400) NOT NULL,
    BOARD_COUNT NUMBER DEFAULT 0,
    BOARD_DATE DATE DEFAULT SYSDATE,
    BOARD_DEL_GB VARCHAR2(2) DEFAULT 'N',
    BOARD_IMAGE VARCHAR2(15)
    );

COMMENT ON TABLE BOARD IS '게시판';
COMMENT ON COLUMN BOARD.BOARD_NUM IS '게시글번호';
COMMENT ON COLUMN BOARD.BOARD_TITLE IS '제목';
COMMENT ON COLUMN BOARD.BOARD_CAT IS '카테고리';
COMMENT ON COLUMN BOARD.BOARD_WRITER IS '작성자회원번호';
COMMENT ON COLUMN BOARD.BOARD_NICK IS '닉네임';
COMMENT ON COLUMN BOARD.BOARD_CONTENT IS '내용';
COMMENT ON COLUMN BOARD.BOARD_COUNT IS '조회수';
COMMENT ON COLUMN BOARD.BOARD_DATE IS '작성일자';
COMMENT ON COLUMN BOARD.BOARD_DEL_GB IS '글삭제여부';
COMMENT ON COLUMN BOARD.BOARD_IMAGE IS '이미지';

-- 댓글

CREATE TABLE COMMENTS (
    COMMENTS_NUM NUMBER PRIMARY KEY,
    COMMENTS_PARENT NUMBER NOT NULL,
    COMMENTS_WRITER NUMBER(15) NOT NULL,
    COMMENTS_CONTENT VARCHAR2(80) NOT NULL,
    COMMENTS_DATE DATE DEFAULT SYSDATE,
    COMMENTS_DEL_GB VARCHAR2(2) DEFAULT 'N'
    );
    
COMMENT ON TABLE COMMENTS IS '댓글';
COMMENT ON COLUMN COMMENTS.COMMENTS_NUM IS '댓글번호';
COMMENT ON COLUMN COMMENTS.COMMENTS_PARENT IS '부모게시글번호';
COMMENT ON COLUMN COMMENTS.COMMENTS_WRITER IS '작성자';
COMMENT ON COLUMN COMMENTS.COMMENTS_CONTENT IS '내용';
COMMENT ON COLUMN COMMENTS.COMMENTS_DATE IS '작성일시';
COMMENT ON COLUMN COMMENTS.COMMENTS_DEL_GB IS '삭제여부';

-- 공지사항

CREATE TABLE NOTICE (
    NOTICE_NUM NUMBER PRIMARY KEY,
    NOTICE_TITLE VARCHAR2(40) NOT NULL,
    NOTICE_WRITER VARCHAR2(15) NOT NULL,
    NOTICE_CONTENT VARCHAR2(400) NOT NULL,
    NOTICE_COUNT NUMBER DEFAULT 0,
    NOTICE_DATE DATE DEFAULT SYSDATE,
    NOTICE_DEL_GB VARCHAR2(2) DEFAULT 'N',
    NOTICE_TYPE VARCHAR2(10) NOT NULL
);

COMMENT ON TABLE NOTICE IS '공지사항';
COMMENT ON COLUMN NOTICE.NOTICE_NUM IS '게시글번호';
COMMENT ON COLUMN NOTICE.NOTICE_TITLE IS '제목';
COMMENT ON COLUMN NOTICE.NOTICE_WRITER IS '작성자';
COMMENT ON COLUMN NOTICE.NOTICE_CONTENT IS '내용';
COMMENT ON COLUMN NOTICE.NOTICE_COUNT IS '조회수';
COMMENT ON COLUMN NOTICE.NOTICE_DATE IS '작성일자';
COMMENT ON COLUMN NOTICE.NOTICE_DEL_GB IS '글삭제여부';
COMMENT ON COLUMN NOTICE.NOTICE_TYPE IS '글 구분';

-- 신고

CREATE TABLE REPORT (
    REPORT_NUM NUMBER PRIMARY KEY,
    REPORT_MEM_NUM1 NUMBER,
    REPORT_BOARD_NUM NUMBER,
    REPORT_MEM_CNUM NUMBER,
    REPORT_COMMENT_NUM NUMBER,
    REPORT_MEM_NUM2 NUMBER NOT NULL,
    REPORT_COMMENT VARCHAR2(200) NOT NULL,
    REPORT_STATE VARCHAR2(10) DEFAULT 0
);

COMMENT ON TABLE REPORT IS '신고';
COMMENT ON COLUMN REPORT.REPORT_NUM IS '신고번호';
COMMENT ON COLUMN REPORT.REPORT_MEM_NUM1 IS '신고된 게시글 회원번호';
COMMENT ON COLUMN REPORT.REPORT_BOARD_NUM IS '신고된 게시글 번호';
COMMENT ON COLUMN REPORT.REPORT_MEM_CNUM IS '신고된 댓글 회원번호';
COMMENT ON COLUMN REPORT.REPORT_COMMENT_NUM IS '신고된 댓글 번호';
COMMENT ON COLUMN REPORT.REPORT_MEM_NUM2 IS '신고한 회원 번호';
COMMENT ON COLUMN REPORT.REPORT_COMMENT IS '신고 사유';
COMMENT ON COLUMN REPORT.REPORT_STATE IS '처리 상태';

-- 상품

CREATE TABLE GOODS (
    GOODS_NUM NUMBER PRIMARY KEY,
    GOODS_NAME VARCHAR2(40) NOT NULL,
    GOODS_CONTENT VARCHAR2(400) NOT NULL,
    GOODS_MPRICE NUMBER NOT NULL,
    GOODS_NMPRICE NUMBER NOT NULL,
    GOODS_CPRICE NUMBER NOT NULL,
    GOODS_DATE DATE DEFAULT SYSDATE,
    GOODS_CATEGORY1 VARCHAR2(20) NOT NULL,
    GOODS_CATEGORY2 VARCHAR2(20) NOT NULL,
    GOODS_HASH VARCHAR2(200),
    GOODS_COUNT NUMBER DEFAULT 0,
    GOODS_IMG_THUM VARCHAR2(100) DEFAULT 0
);

COMMENT ON TABLE GOODS IS '상품';
COMMENT ON COLUMN GOODS.GOODS_NUM IS '상품번호';
COMMENT ON COLUMN GOODS.GOODS_NAME IS '상품명';
COMMENT ON COLUMN GOODS.GOODS_CONTENT IS '상품상세';
COMMENT ON COLUMN GOODS.GOODS_MPRICE IS '회원가';
COMMENT ON COLUMN GOODS.GOODS_NMPRICE IS '비회원가';
COMMENT ON COLUMN GOODS.GOODS_CPRICE IS '원가';
COMMENT ON COLUMN GOODS.GOODS_DATE IS '올린날짜';
COMMENT ON COLUMN GOODS.GOODS_CATEGORY1 IS '카테고리1';
COMMENT ON COLUMN GOODS.GOODS_CATEGORY2 IS '카테고리2';
COMMENT ON COLUMN GOODS.GOODS_HASH IS '해시태그';
COMMENT ON COLUMN GOODS.GOODS_COUNT IS '조회수';
COMMENT ON COLUMN GOODS.GOODS_IMG_THUM IS '이미지';

-- 상품속성

CREATE TABLE GOODS_ATTRIBUTE (
    GOODS_ATT_NO NUMBER PRIMARY KEY,
    GOODS_NUM NUMBER,
    GOODS_SIZE VARCHAR2(20) NOT NULL,
    GOODS_COLOR VARCHAR2(20) NOT NULL,
    GOODS_STOCK NUMBER NOT NULL,
    GOODS_STATUS NUMBER DEFAULT 0
);

COMMENT ON TABLE GOODS_ATTRIBUTE IS '상품속성';
COMMENT ON COLUMN GOODS_ATTRIBUTE.GOODS_ATT_NO IS '상품속성번호';
COMMENT ON COLUMN GOODS_ATTRIBUTE.GOODS_NUM IS '상품번호';
COMMENT ON COLUMN GOODS_ATTRIBUTE.GOODS_SIZE IS '사이즈';
COMMENT ON COLUMN GOODS_ATTRIBUTE.GOODS_COLOR IS '색상';
COMMENT ON COLUMN GOODS_ATTRIBUTE.GOODS_STOCK IS '재고';
COMMENT ON COLUMN GOODS_ATTRIBUTE.GOODS_STATUS IS '상품상태';

-- 장바구니

CREATE TABLE BASKET (
    BASKET_NUM NUMBER PRIMARY KEY,
    MEM_NUM NUMBER NOT NULL,
    GOODS_NUM NUMBER NOT NULL,
    GOODS_ATT_NO NUMBER NOT NULL,
    GOODS_CHECK VARCHAR2(10) DEFAULT 'N',
    GOODS_SIZE VARCHAR2(20) NOT NULL,
    GOODS_COLOR VARCHAR2(20) NOT NULL,
    GOODS_ATT_AMOUNT NUMBER NOT NULL
);

COMMENT ON TABLE BASKET IS '장바구니';
COMMENT ON COLUMN BASKET.BASKET_NUM IS '장바구니 번호';
COMMENT ON COLUMN BASKET.MEM_NUM IS '회원번호';
COMMENT ON COLUMN BASKET.GOODS_NUM IS '상품번호';
COMMENT ON COLUMN BASKET.GOODS_ATT_NO IS '상품속성번호';
COMMENT ON COLUMN BASKET.GOODS_CHECK IS '체크박스';
COMMENT ON COLUMN BASKET.GOODS_SIZE IS '사이즈';
COMMENT ON COLUMN BASKET.GOODS_COLOR IS '색상';
COMMENT ON COLUMN BASKET.GOODS_ATT_AMOUNT IS '수량';

-- 주문

CREATE TABLE ORDERS (
    ORDER_NUM NUMBER PRIMARY KEY,
    ORDER_USER_NUM NUMBER NOT NULL,
    ORDER_USER_NAME VARCHAR2(15) NOT NULL,
    ORDER_PHONE1 VARCHAR2(12) NOT NULL,
    ORDER_PHONE2 VARCHAR2(12),
    ORDER_DATE DATE DEFAULT SYSDATE,
    ORDER_PRICE NUMBER NOT NULL,
    ORDER_DCOST NUMBER NOT NULL,
    ORDER_TCOST NUMBER NOT NULL,
    ORDER_DZIPCODE VARCHAR2(15) NOT NULL,
    ORDER_DADD1 VARCHAR2(40) NOT NULL,
    ORDER_DADD2 VARCHAR2(40) NOT NULL,
    ORDER_DMEMO VARCHAR2(50),
    ORDER_PAY VARCHAR2(20) NOT NULL,
    ORDER_PAY_NAME VARCHAR2(20) NOT NULL,
    ORDER_PAY_RBANK VARCHAR2(20) NOT NULL,
    ORDER_PAY_RACCOUNT VARCHAR2(20) NOT NULL,
    ORDER_PAY_CASHRE VARCHAR2(20)
);

COMMENT ON TABLE ORDERS IS '주문';
COMMENT ON COLUMN ORDERS.ORDER_NUM IS '주문번호';
COMMENT ON COLUMN ORDERS.ORDER_USER_NUM IS '회원번호';
COMMENT ON COLUMN ORDERS.ORDER_USER_NAME IS '수령인';
COMMENT ON COLUMN ORDERS.ORDER_PHONE1 IS '연락처1';
COMMENT ON COLUMN ORDERS.ORDER_PHONE2 IS '연락처2';
COMMENT ON COLUMN ORDERS.ORDER_DATE IS '주문일자';
COMMENT ON COLUMN ORDERS.ORDER_PRICE IS '주문금액';
COMMENT ON COLUMN ORDERS.ORDER_DCOST IS '배송비';
COMMENT ON COLUMN ORDERS.ORDER_TCOST IS '최종결제금액';
COMMENT ON COLUMN ORDERS.ORDER_DZIPCODE IS '배송우편번호';
COMMENT ON COLUMN ORDERS.ORDER_DADD1 IS '배송주소';
COMMENT ON COLUMN ORDERS.ORDER_DADD2 IS '배송상세주소';
COMMENT ON COLUMN ORDERS.ORDER_DMEMO IS '배송메모';
COMMENT ON COLUMN ORDERS.ORDER_PAY IS '결제수단';
COMMENT ON COLUMN ORDERS.ORDER_PAY_NAME IS '입금자명';
COMMENT ON COLUMN ORDERS.ORDER_PAY_RBANK IS '환불 계좌 은행';
COMMENT ON COLUMN ORDERS.ORDER_PAY_RACCOUNT IS '환불 계좌';
COMMENT ON COLUMN ORDERS.ORDER_PAY_CASHRE IS '현금영수증 번호';

-- 주문상세

CREATE TABLE ORDERS_DETAIL (
    ORDER_DETAIL_NUM NUMBER PRIMARY KEY,
    ORDER_DETAIL_DNUM NUMBER NOT NULL,
    ORDER_DETAIL_GNUM NUMBER NOT NULL,
    ORDER_DETAIL_AMOUNT NUMBER NOT NULL,
    ORDER_DETAIL_SIZE VARCHAR2(20) NOT NULL,
    ORDER_DETAIL_COLOR VARCHAR2(20) NOT NULL,
    ORDER_DETAIL_DATE DATE DEFAULT SYSDATE
);

COMMENT ON TABLE ORDERS_DETAIL IS '주문상세';
COMMENT ON COLUMN ORDERS_DETAIL.ORDER_DETAIL_NUM IS '주문상세번호';
COMMENT ON COLUMN ORDERS_DETAIL.ORDER_DETAIL_DNUM IS '주문번호';
COMMENT ON COLUMN ORDERS_DETAIL.ORDER_DETAIL_GNUM IS '상품번호';
COMMENT ON COLUMN ORDERS_DETAIL.ORDER_DETAIL_AMOUNT IS '상품수량';
COMMENT ON COLUMN ORDERS_DETAIL.ORDER_DETAIL_SIZE IS '상품사이즈';
COMMENT ON COLUMN ORDERS_DETAIL.ORDER_DETAIL_COLOR IS '상품색상';
COMMENT ON COLUMN ORDERS_DETAIL.ORDER_DETAIL_DATE IS '주문일자';

-- 주문관리

CREATE TABLE ADMIN_ORDERS (
    AORDER_NUM NUMBER PRIMARY KEY,
    AORDER_ORDER_NUM NUMBER NOT NULL,
    MEMBER_NUM NUMBER NOT NULL,
    AORDER_STATE VARCHAR2(20) DEFAULT 0,
    AORDER_TRACKING VARCHAR2(255),
    ORDER_REPORT_COMMENT VARCHAR2(255),
    AS_SDATE DATE DEFAULT SYSDATE,
    AS_EDATE DATE DEFAULT SYSDATE
);

COMMENT ON TABLE ADMIN_ORDERS IS '주문관리';
COMMENT ON COLUMN ADMIN_ORDERS.AORDER_NUM IS '주문관리번호';
COMMENT ON COLUMN ADMIN_ORDERS.AORDER_ORDER_NUM IS '주문번호';
COMMENT ON COLUMN ADMIN_ORDERS.MEMBER_NUM IS '회원번호';
COMMENT ON COLUMN ADMIN_ORDERS.AORDER_STATE IS '주문상태';
COMMENT ON COLUMN ADMIN_ORDERS.AORDER_TRACKING IS '송장번호';
COMMENT ON COLUMN ADMIN_ORDERS.ORDER_REPORT_COMMENT IS '사유';
COMMENT ON COLUMN ADMIN_ORDERS.AS_SDATE IS '신청날짜';
COMMENT ON COLUMN ADMIN_ORDERS.AS_EDATE IS '완료날짜';

-- 파일

CREATE TABLE FILES (
    FILE_NUM NUMBER PRIMARY KEY,
    FILE_PARENT NUMBER NOT NULL,
    FILE_ORG VARCHAR2(260) NOT NULL,
    FILE_STD VARCHAR2(40) NOT NULL,
    FILE_SIZE NUMBER NOT NULL,
    FILE_DATE DATE DEFAULT SYSDATE,
    FILE_DEL VARCHAR2(2) DEFAULT 'N'
);

COMMENT ON TABLE FILES IS '파일';
COMMENT ON COLUMN FILES.FILE_NUM IS '파일순번';
COMMENT ON COLUMN FILES.FILE_PARENT IS '부모글번호';
COMMENT ON COLUMN FILES.FILE_ORG IS '원본 파일 이름';
COMMENT ON COLUMN FILES.FILE_STD IS '새로운 파일 이름';
COMMENT ON COLUMN FILES.FILE_SIZE IS '파일크기';
COMMENT ON COLUMN FILES.FILE_DATE IS '생성날짜';
COMMENT ON COLUMN FILES.FILE_DEL IS '삭제여부';

================================================================
================================================================

-- 회원번호 시퀀스
CREATE SEQUENCE MEM_NUM_SEQ
START WITH 1
INCREMENT BY 1
MINVALUE 1;

-- 게시판번호 시퀀스
CREATE SEQUENCE BOARD_NUM_SEQ
START WITH 1
INCREMENT BY 1
MINVALUE 1;

-- 게시판 외래키
ALTER TABLE BOARD ADD(
CONSTRAINT FK_BOARD
FOREIGN KEY(BOARD_WRITER)
REFERENCES MEMBER(MEM_NUM)
);

-- 댓글번호 시퀀스
CREATE SEQUENCE COMMENTS_NUM_SEQ
START WITH 1
INCREMENT BY 1
MINVALUE 1;

-- 댓글 외래키1
ALTER TABLE COMMENTS ADD(
CONSTRAINT FK_COMMENTS1
FOREIGN KEY(COMMENTS_WRITER)
REFERENCES MEMBER(MEM_NUM)
);

-- 댓글 외래키2
ALTER TABLE COMMENTS ADD(
CONSTRAINT FK_COMMENTS2
FOREIGN KEY(COMMENTS_PARENT)
REFERENCES BOARD(BOARD_NUM)
);

-- 공지사항 시퀀스
CREATE SEQUENCE NOTICE_NUM_SEQ
START WITH 1
INCREMENT BY 1
MINVALUE 1;

-- 신고 시퀀스
CREATE SEQUENCE REPORT_NUM_SEQ
START WITH 1
INCREMENT BY 1
MINVALUE 1;

-- 신고 외래키1 -멤버
ALTER TABLE REPORT ADD(
CONSTRAINT FK_REPORT1
FOREIGN KEY(REPORT_MEM_NUM1)
REFERENCES MEMBER(MEM_NUM)
);

-- 신고 외래키2 -보드
ALTER TABLE REPORT ADD(
CONSTRAINT FK_REPORT2
FOREIGN KEY(REPORT_BOARD_NUM)
REFERENCES BOARD(BOARD_NUM)
);

-- 신고 외래키3 -멤버
ALTER TABLE REPORT ADD(
CONSTRAINT FK_REPORT3
FOREIGN KEY(REPORT_MEM_CNUM)
REFERENCES MEMBER(MEM_NUM)
);

-- 신고 외래키4 -댓글
ALTER TABLE REPORT ADD(
CONSTRAINT FK_REPORT4
FOREIGN KEY(REPORT_COMMENT_NUM)
REFERENCES COMMENTS(COMMENTS_NUM)
);

-- 신고 외래키5 -멤버
ALTER TABLE REPORT ADD(
CONSTRAINT FK_REPORT5
FOREIGN KEY(REPORT_MEM_NUM2)
REFERENCES MEMBER(MEM_NUM)
);

-- 상품 시퀀스
CREATE SEQUENCE GOODS_NUM_SEQ
START WITH 1
INCREMENT BY 1
MINVALUE 1;

-- 상품속성 시퀀스
CREATE SEQUENCE GOODS_ATTRIBUTE_NUM_SEQ
START WITH 1
INCREMENT BY 1
MINVALUE 1;

-- 상품속성 외래키
ALTER TABLE GOODS_ATTRIBUTE ADD(
CONSTRAINT FK_GOODS_ATTRIBUTE
FOREIGN KEY(GOODS_NUM)
REFERENCES GOODS(GOODS_NUM)
);

-- 장바구니 외래키1
ALTER TABLE BASKET ADD(
CONSTRAINT FK_BASKET1
FOREIGN KEY(MEM_NUM)
REFERENCES MEMBER(MEM_NUM)
);

-- 장바구니 외래키2
ALTER TABLE BASKET ADD(
CONSTRAINT FK_BASKET2
FOREIGN KEY(GOODS_NUM)
REFERENCES GOODS(GOODS_NUM)
);

-- 장바구니 외래키3
ALTER TABLE BASKET ADD(
CONSTRAINT FK_BASKET3
FOREIGN KEY(GOODS_ATT_NO)
REFERENCES GOODS_ATTRIBUTE(GOODS_ATT_NO)
);

---- 장바구니 외래키4
--ALTER TABLE BASKET ADD(
--CONSTRAINT FK_BASKET4
--FOREIGN KEY(GOODS_SIZE)
--REFERENCES GOODS_ATTRIBUTE(GOODS_SIZE)
--);

---- 장바구니 외래키5
--ALTER TABLE BASKET ADD(
--CONSTRAINT FK_BASKET5
--FOREIGN KEY(GOODS_COLOR)
--REFERENCES GOODS_ATTRIBUTE(GOODS_COLOR)
--);

---- 장바구니 외래키6
--ALTER TABLE BASKET ADD(
--CONSTRAINT FK_BASKET6
--FOREIGN KEY(GOODS_ATT_AMOUNT)
--REFERENCES ???
--);

-- 주문 시퀀스
CREATE SEQUENCE ORDER_NUM_SEQ
START WITH 1
INCREMENT BY 1
MINVALUE 1;

-- 주문 외래키
ALTER TABLE ORDERS ADD(
CONSTRAINT FK_ORDERS
FOREIGN KEY(ORDER_USER_NUM)
REFERENCES MEMBER(MEM_NUM)
);

-- 주문 상세 시퀀스
CREATE SEQUENCE ORDER_DETAIL_NUM_SEQ
START WITH 1
INCREMENT BY 1
MINVALUE 1;

-- 주문 상세 외래키1
ALTER TABLE ORDERS_DETAIL ADD(
CONSTRAINT FK_ORDERS_DETAIL1
FOREIGN KEY(ORDER_DETAIL_DNUM)
REFERENCES ORDERS(ORDER_NUM)
);

-- 주문 상세 외래키2
ALTER TABLE ORDERS_DETAIL ADD(
CONSTRAINT FK_ORDERS_DETAIL2
FOREIGN KEY(ORDER_DETAIL_GNUM)
REFERENCES GOODS(GOODS_NUM)
);

-- 주문 관리 시퀀스
CREATE SEQUENCE AORDER_NUM_SEQ
START WITH 1
INCREMENT BY 1
MINVALUE 1;

-- 주문 관리 외래키1
ALTER TABLE ADMIN_ORDERS ADD(
CONSTRAINT FK_ADMIN_ORDERS1
FOREIGN KEY(AORDER_ORDER_NUM)
REFERENCES ORDERS(ORDER_NUM)
);

-- 주문 관리 외래키2
ALTER TABLE ADMIN_ORDERS ADD(
CONSTRAINT FK_ADMIN_ORDERS2
FOREIGN KEY(MEMBER_NUM)
REFERENCES MEMBER(MEM_NUM)
);

-- 파일 시퀀스
CREATE SEQUENCE FILE_NUM_SEQ
START WITH 1
INCREMENT BY 1
MINVALUE 1;

-- 파일 외래키
ALTER TABLE FILES ADD(
CONSTRAINT FK_FILES
FOREIGN KEY(FILE_PARENT)
REFERENCES BOARD(BOARD_NUM)
);